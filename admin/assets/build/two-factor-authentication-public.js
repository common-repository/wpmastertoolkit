!function(){var t={6109:function(){document.addEventListener("DOMContentLoaded",(()=>(()=>{const t=wpmastertoolkit_two_factor_authentication_public.activated_methods||[],e=document.querySelectorAll('form[name="loginform"]');if(t.length<1||e.length<1)return;e.forEach((t=>{const e=t.querySelector('input[type="submit"]'),c=t.querySelector(".wp-mastertoolkit__two-factor-authentication-modal"),s=t.querySelector(".wp-mastertoolkit__two-factor-authentication-modal__container__close-button"),l=t.querySelectorAll(".wp-mastertoolkit__two-factor-authentication-modal__container__step__methods__item"),_=t.querySelector('input[name="log"]'),d=t.querySelector('input[name="wp-mastertoolkit-tfa-method"]'),u=t.querySelectorAll(".wp-mastertoolkit__two-factor-authentication-modal__container__step__code__auth-input"),h=t.querySelector(".wp-mastertoolkit__two-factor-authentication-modal__container__step__back");let m={},f=!1,p=!1;if(e&&c){for(let t=0;t<u.length;t++)u[t]&&(u[t].addEventListener("input",(e=>{t<5&&u[t].value.length>0&&(u[t+1].value="",u[t+1].focus())})),u[t].addEventListener("keydown",(e=>{8==e.keyCode&&t>0&&u[t].value.length<1&&(u[t-1].value="",u[t-1].focus())})));u[0].addEventListener("paste",(t=>{const e=t.clipboardData.getData("text");if(!(e.length<1)){for(let t=0;t<e.length;t++)u[t]&&(u[t].value=e[t]);t.preventDefault()}})),_.addEventListener("input",(e=>{if(_.value.length<1)return;const i=_.value;setTimeout((()=>{if(i!==_.value)return;a(c,0);const e={login:_.value||""};p=!0,r(e).then((e=>{if(p=!1,m=void 0!==e.user_methods?e.user_methods:{},!o(m)&&(c.classList.add("hidden"),f))return t.submit();n(c,m),a(c,1)})).catch((t=>{p=!1,c.classList.add("hidden")}))}),1e3)})),l.forEach((t=>{t.addEventListener("click",(e=>{const o=t.dataset.method||"";if(t.length<1)return;const n={method:o,login:_.value||""};d.value=o,a(c,2),i(n).then((t=>{})).catch((t=>{}))}))})),e.addEventListener("click",(e=>{t.checkValidity()&&(f=!0,!p&&Object.keys(m).length<1?c.classList.add("hidden"):(e.preventDefault(),t.classList.remove("shake"),c.classList.remove("hidden"),c.style=""))})),s.addEventListener("click",(t=>{t.preventDefault(),f=!1,c.classList.add("hidden")})),h.addEventListener("click",(t=>{t.preventDefault(),a(c,1)}))}}));const o=t=>{for(method in t)if("1"==t[method])return!0;return!1},n=(t,e)=>{const o=t.querySelectorAll(".wp-mastertoolkit__two-factor-authentication-modal__container__step__methods__item");if(o)for(method in o.forEach((t=>{t.classList.add("hidden")})),e){if("0"==e[method])continue;const o=t.querySelector(`.wp-mastertoolkit__two-factor-authentication-modal__container__step__methods__item.method-${method}`);o&&o.classList.remove("hidden")}},a=(t,e)=>{const o=t.querySelectorAll(".wp-mastertoolkit__two-factor-authentication-modal__container__step");if(!o)return;o.forEach((t=>{t.classList.add("hidden")}));const n=t.querySelector(`.wp-mastertoolkit__two-factor-authentication-modal__container__step.step-${e}`);n&&n.classList.remove("hidden")},r=(t={})=>{const e={action:"wpmastertoolkit_two_factor_authentication_get_user_methods",login:t.login||"",password:t.password||"",nonce:wpmastertoolkit_two_factor_authentication_public.nonce||""};return new Promise(((t,o)=>{wp.ajax.post("wpmastertoolkit_two_factor_authentication_get_user_methods",e).done((e=>{t(e)})).fail((t=>{o(t)}))}))},i=(t={})=>{const e={action:"wpmastertoolkit_two_factor_authentication_generate_code",method:t.method||"",login:t.login||"",nonce:wpmastertoolkit_two_factor_authentication_public.nonce||""};return new Promise(((t,o)=>{wp.ajax.post("wpmastertoolkit_two_factor_authentication_generate_code",e).done((e=>{t(e)})).fail((t=>{o(t)}))}))}})()))}},e={};function o(n){var a=e[n];if(void 0!==a)return a.exports;var r=e[n]={exports:{}};return t[n](r,r.exports,o),r.exports}o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,{a:e}),e},o.d=function(t,e){for(var n in e)o.o(e,n)&&!o.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},function(){"use strict";o(6109)}()}();